{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"PMM Dump \u00b6 The pmm_dump client utility performs a logical backup of the performace metrics, collected by the PMM Server and imports them into a different PMM Server instance. Getting Started \u00b6 Export \u00b6 Import \u00b6 Command Options Release Notes","title":"Welcome"},{"location":"index.html#pmm-dump","text":"The pmm_dump client utility performs a logical backup of the performace metrics, collected by the PMM Server and imports them into a different PMM Server instance.","title":"PMM Dump"},{"location":"index.html#getting-started","text":"","title":"Getting Started"},{"location":"index.html#export","text":"","title":"Export"},{"location":"index.html#import","text":"Command Options Release Notes","title":"Import"},{"location":"System-Requirements.html","text":"System Requirements \u00b6 The pmm-dump utility runs as a client to PMM Server. The following conditions should be met: The host where PMM Dump is installed, should be able to access PMM Server host via HTTPS or HTTP protocols. User account with administrator access should be created within PMM. ClickHouse port (default is 9000) should be open to collect QAN data. Note By default, Docker installation of PMM does not publish the ClickHouse port. This means you can only collect QAN metrics if run PMM Dump on the same host as PMM and use Docker internal IP address. To overwrite this behavior start PMM instance with option --publish 9000:9000 : docker run --detach --restart always \\ --publish 443 :443 \\ --publish 9000 :9000 \\ -v pmm-data:/srv \\ --name pmm-server \\ percona/pmm-server:2","title":"System Requirements"},{"location":"System-Requirements.html#system-requirements","text":"The pmm-dump utility runs as a client to PMM Server. The following conditions should be met: The host where PMM Dump is installed, should be able to access PMM Server host via HTTPS or HTTP protocols. User account with administrator access should be created within PMM. ClickHouse port (default is 9000) should be open to collect QAN data. Note By default, Docker installation of PMM does not publish the ClickHouse port. This means you can only collect QAN metrics if run PMM Dump on the same host as PMM and use Docker internal IP address. To overwrite this behavior start PMM instance with option --publish 9000:9000 : docker run --detach --restart always \\ --publish 443 :443 \\ --publish 9000 :9000 \\ -v pmm-data:/srv \\ --name pmm-server \\ percona/pmm-server:2","title":"System Requirements"},{"location":"commands.html","text":"PMM Dump Commands \u00b6 PMM Dump supports following commands. help \u00b6 Print help message and exit. export \u00b6 Export PMM Server metrics to dump file. By default the 4 last hours of all performance metrics, excluding QAN, exported. But this behavior could be overwritten with options. import \u00b6 Import PMM Server metrics from dump file. show-meta \u00b6 Show metadata from the specified dump file. version \u00b6 Show version number and GitHub commit hash.","title":"Commands"},{"location":"commands.html#pmm-dump-commands","text":"PMM Dump supports following commands.","title":"PMM Dump Commands"},{"location":"commands.html#help","text":"Print help message and exit.","title":"help"},{"location":"commands.html#export","text":"Export PMM Server metrics to dump file. By default the 4 last hours of all performance metrics, excluding QAN, exported. But this behavior could be overwritten with options.","title":"export"},{"location":"commands.html#import","text":"Import PMM Server metrics from dump file.","title":"import"},{"location":"commands.html#show-meta","text":"Show metadata from the specified dump file.","title":"show-meta"},{"location":"commands.html#version","text":"Show version number and GitHub commit hash.","title":"version"},{"location":"export.html","text":"Exporting Metrics \u00b6","title":"Overview"},{"location":"export.html#exporting-metrics","text":"","title":"Exporting Metrics"},{"location":"faq.html","text":"Frequently Asked Questions \u00b6","title":"Frequently Asked Questions"},{"location":"faq.html#frequently-asked-questions","text":"","title":"Frequently Asked Questions"},{"location":"import.html","text":"Importing Metrics \u00b6","title":"Overview"},{"location":"import.html#importing-metrics","text":"","title":"Importing Metrics"},{"location":"installation.html","text":"Install PMM Dump \u00b6 Binary Installation \u00b6 You can download the latest version of PMM Dump from https://www.percona.com/get/pmm-dump . Once downloaded, set executable bit for the pmm-dump binary file and you are ready to use it. $ curl -OL https://www.percona.com/get/pmm-dump % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 11 .9M 0 11 .9M 0 0 624k 0 --:--:-- 0 :00:19 --:--:-- 2628k $ chmod +x pmm-dump $ ./pmm-dump version Version: 0 .6.1-rc, Build: e2bc9a9 Alternatively, you can download PMM Dump binary from PMM Dump GitHub Releases page. At this place you will find all published versions of PMM Dump. Compiling from Source \u00b6 Check if version of Go is 1.16 or newer. $ go version go version go1.19.4 linux/amd64 Clone PMM Dump GitHub repository : git clone git@github.com:percona/pmm-dump.git cd into newly created directory and run make build : $ cd pmm-dump $ make build go build -ldflags \"-X 'main.GitBranch=main' -X 'main.GitCommit=b3804a9' -X 'main.GitVersion=v2.32.0'\" -o pmm-dump pmm-dump/cmd/pmm-dump This will compile pmm-dump binary.","title":"Installation"},{"location":"installation.html#install-pmm-dump","text":"","title":"Install PMM Dump"},{"location":"installation.html#binary-installation","text":"You can download the latest version of PMM Dump from https://www.percona.com/get/pmm-dump . Once downloaded, set executable bit for the pmm-dump binary file and you are ready to use it. $ curl -OL https://www.percona.com/get/pmm-dump % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 11 .9M 0 11 .9M 0 0 624k 0 --:--:-- 0 :00:19 --:--:-- 2628k $ chmod +x pmm-dump $ ./pmm-dump version Version: 0 .6.1-rc, Build: e2bc9a9 Alternatively, you can download PMM Dump binary from PMM Dump GitHub Releases page. At this place you will find all published versions of PMM Dump.","title":"Binary Installation"},{"location":"installation.html#compiling-from-source","text":"Check if version of Go is 1.16 or newer. $ go version go version go1.19.4 linux/amd64 Clone PMM Dump GitHub repository : git clone git@github.com:percona/pmm-dump.git cd into newly created directory and run make build : $ cd pmm-dump $ make build go build -ldflags \"-X 'main.GitBranch=main' -X 'main.GitCommit=b3804a9' -X 'main.GitVersion=v2.32.0'\" -o pmm-dump pmm-dump/cmd/pmm-dump This will compile pmm-dump binary.","title":"Compiling from Source"},{"location":"known-issues.html","text":"Known Issues \u00b6","title":"Known Issues"},{"location":"known-issues.html#known-issues","text":"","title":"Known Issues"},{"location":"options.html","text":"PMM Dump Options \u00b6 The following table lists all command-line options applicable within pmm-dump. Name Scope Value Type Default Description help Global NaN NaN Shows content-sensitive help. help-long Global NaN NaN help-man Global NaN NaN pmm-url Global String NaN PMM connection string, e.g. --pmm-url=https://admin:admin@127.0.0.1:443 pmm-host Global String NaN PMM server host (with scheme), e.g. --pmm-host=htps://127.0.0.1 pmm-port Global Integer NaN PMM server port pmm-user Global String NaN PMM username pmm-pass Global String NaN PMM password victoria-metrics-url Global String NaN VictoriaMetrics connection string click-house-url Global String NaN ClickHouse connection string dump-core Global Boolean True Export/import core metrics dump-qan Global Boolean False Export/import QAN metrics verbose Global Boolean False Enable verbose mode allow-insecure-certs Global Boolean False Accept any certificate presented by the server and any host name in that certificate dump-path Global String pmm-dump-{CURRENT_TIMESTAMP}.tar.gz Path to the dump file","title":"Options and Variables"},{"location":"options.html#pmm-dump-options","text":"The following table lists all command-line options applicable within pmm-dump. Name Scope Value Type Default Description help Global NaN NaN Shows content-sensitive help. help-long Global NaN NaN help-man Global NaN NaN pmm-url Global String NaN PMM connection string, e.g. --pmm-url=https://admin:admin@127.0.0.1:443 pmm-host Global String NaN PMM server host (with scheme), e.g. --pmm-host=htps://127.0.0.1 pmm-port Global Integer NaN PMM server port pmm-user Global String NaN PMM username pmm-pass Global String NaN PMM password victoria-metrics-url Global String NaN VictoriaMetrics connection string click-house-url Global String NaN ClickHouse connection string dump-core Global Boolean True Export/import core metrics dump-qan Global Boolean False Export/import QAN metrics verbose Global Boolean False Enable verbose mode allow-insecure-certs Global Boolean False Accept any certificate presented by the server and any host name in that certificate dump-path Global String pmm-dump-{CURRENT_TIMESTAMP}.tar.gz Path to the dump file","title":"PMM Dump Options"},{"location":"troubleshooting.html","text":"Troubleshooting \u00b6 Export \u00b6 Import \u00b6","title":"Troubleshooting"},{"location":"troubleshooting.html#troubleshooting","text":"","title":"Troubleshooting"},{"location":"troubleshooting.html#export","text":"","title":"Export"},{"location":"troubleshooting.html#import","text":"","title":"Import"},{"location":"usage.html","text":"Using PMM Dump \u00b6 PMM Dump exports collected metrics from PMM instance into tarball file. By default, name of the result file is pmm-dump-{CURRENT_TIMESTAMP}.tar.gz . $ pmm-dump export --pmm-url = 'https://admin:admin@127.0.0.1' \\ > --allow-insecure-certs 2023 -01-05T20:01:33+03:00 INF Credential user was obtained from pmm-url 2023 -01-05T20:01:33+03:00 INF Credential password was obtained from pmm-url 2023 -01-05T20:01:33+03:00 INF Exporting metrics... 2023 -01-05T20:01:33+03:00 INF Processing 1 /49 chunk... 2023 -01-05T20:01:33+03:00 INF Processing 2 /49 chunk... 2023 -01-05T20:01:33+03:00 INF Processing 3 /49 chunk... ... 2023 -01-05T20:01:39+03:00 INF Processing 47 /49 chunk... 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672934193 -1672934493.bin source = vm 2023 -01-05T20:01:39+03:00 INF Processing 48 /49 chunk... 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672934493 -1672934793.bin source = vm 2023 -01-05T20:01:39+03:00 INF Processing 49 /49 chunk... 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672934793 -1672935093.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672935093 -1672935393.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672935393 -1672935693.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672935693 -1672935993.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672935993 -1672936293.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672936293 -1672936593.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672936593 -1672936893.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672936893 -1672937193.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672937193 -1672937493.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672937493 -1672937793.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672938093 -1672938393.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672937793 -1672938093.bin source = vm 2023 -01-05T20:01:39+03:00 INF Successfully exported! $ ls *tar.gz pmm-dump-1672938093.tar.gz This command will export all performance metrics, collected in last 4 hours. Warning PMM Dump would not export QAN data unless option --dump-qan was specified. To import data, fire up new PMM instance and run command pmm-dump import : $ ./pmm-dump import --pmm-url = 'https://admin:admin@127.0.0.1' \\ > --allow-insecure-certs --dump-path = pmm-dump-1672938093.tar.gz 2023 -01-05T20:09:46+03:00 INF Credential user was obtained from pmm-url 2023 -01-05T20:09:46+03:00 INF Credential password was obtained from pmm-url 2023 -01-05T20:09:46+03:00 INF Importing metrics... 2023 -01-05T20:09:46+03:00 INF Opening dump file... path = pmm-dump-1672938093.tar.gz 2023 -01-05T20:09:46+03:00 INF Processing chunk 'vm/1672923693-1672923993.bin' ... 2023 -01-05T20:09:46+03:00 INF Successfully processed 'vm/1672923693-1672923993.bin' ... 2023 -01-05T20:09:55+03:00 INF Processing chunk 'vm/1672937793-1672938093.bin' ... 2023 -01-05T20:09:55+03:00 INF Successfully processed 'vm/1672937793-1672938093.bin' 2023 -01-05T20:09:55+03:00 INF Successfully imported! To access imported data, connect to PMM and navigate to the dashboard you want. PMM Dump supports many custom options allowing to define which data to export. For more details, consult Export . For import-related options, consult Import . For full list of commands supported, consult Commands .","title":"Usage"},{"location":"usage.html#using-pmm-dump","text":"PMM Dump exports collected metrics from PMM instance into tarball file. By default, name of the result file is pmm-dump-{CURRENT_TIMESTAMP}.tar.gz . $ pmm-dump export --pmm-url = 'https://admin:admin@127.0.0.1' \\ > --allow-insecure-certs 2023 -01-05T20:01:33+03:00 INF Credential user was obtained from pmm-url 2023 -01-05T20:01:33+03:00 INF Credential password was obtained from pmm-url 2023 -01-05T20:01:33+03:00 INF Exporting metrics... 2023 -01-05T20:01:33+03:00 INF Processing 1 /49 chunk... 2023 -01-05T20:01:33+03:00 INF Processing 2 /49 chunk... 2023 -01-05T20:01:33+03:00 INF Processing 3 /49 chunk... ... 2023 -01-05T20:01:39+03:00 INF Processing 47 /49 chunk... 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672934193 -1672934493.bin source = vm 2023 -01-05T20:01:39+03:00 INF Processing 48 /49 chunk... 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672934493 -1672934793.bin source = vm 2023 -01-05T20:01:39+03:00 INF Processing 49 /49 chunk... 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672934793 -1672935093.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672935093 -1672935393.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672935393 -1672935693.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672935693 -1672935993.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672935993 -1672936293.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672936293 -1672936593.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672936593 -1672936893.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672936893 -1672937193.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672937193 -1672937493.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672937493 -1672937793.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672938093 -1672938393.bin source = vm 2023 -01-05T20:01:39+03:00 INF Writing chunk to the dump... filename = 1672937793 -1672938093.bin source = vm 2023 -01-05T20:01:39+03:00 INF Successfully exported! $ ls *tar.gz pmm-dump-1672938093.tar.gz This command will export all performance metrics, collected in last 4 hours. Warning PMM Dump would not export QAN data unless option --dump-qan was specified. To import data, fire up new PMM instance and run command pmm-dump import : $ ./pmm-dump import --pmm-url = 'https://admin:admin@127.0.0.1' \\ > --allow-insecure-certs --dump-path = pmm-dump-1672938093.tar.gz 2023 -01-05T20:09:46+03:00 INF Credential user was obtained from pmm-url 2023 -01-05T20:09:46+03:00 INF Credential password was obtained from pmm-url 2023 -01-05T20:09:46+03:00 INF Importing metrics... 2023 -01-05T20:09:46+03:00 INF Opening dump file... path = pmm-dump-1672938093.tar.gz 2023 -01-05T20:09:46+03:00 INF Processing chunk 'vm/1672923693-1672923993.bin' ... 2023 -01-05T20:09:46+03:00 INF Successfully processed 'vm/1672923693-1672923993.bin' ... 2023 -01-05T20:09:55+03:00 INF Processing chunk 'vm/1672937793-1672938093.bin' ... 2023 -01-05T20:09:55+03:00 INF Successfully processed 'vm/1672937793-1672938093.bin' 2023 -01-05T20:09:55+03:00 INF Successfully imported! To access imported data, connect to PMM and navigate to the dashboard you want. PMM Dump supports many custom options allowing to define which data to export. For more details, consult Export . For import-related options, consult Import . For full list of commands supported, consult Commands .","title":"Using PMM Dump"},{"location":"ReleaseNotes/index.html","text":"PMM Dump Release Notes \u00b6 PMM Dump 0.6.1-rc","title":"PMM Dump Release Notes"},{"location":"ReleaseNotes/index.html#pmm-dump-release-notes","text":"PMM Dump 0.6.1-rc","title":"PMM Dump Release Notes"},{"location":"ReleaseNotes/PMM-Dump-0.6.1-rc.html","text":"PMM Dump 0.6.1-rc \u00b6","title":"PMM Dump 0.6.1-rc (2022-07-01)"},{"location":"ReleaseNotes/PMM-Dump-0.6.1-rc.html#pmm-dump-061-rc","text":"","title":"PMM Dump 0.6.1-rc"}]}